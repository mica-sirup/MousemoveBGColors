/*!
 * MousemoveBGColors v1
 * Vanilla JS Plugin change background color depending the mouse position
 * License MIT
 * https://mi-ca.ch Michael CAILLET
 * inspired by : https://stackoverflow.com/a/37141167 Â© Regis Portalez
 */
function MousemoveBGColors(f){const _this=this;const defaultOptions={target:"body",transition:.09,delay:0,center:[168,218,218],topMiddle:[168,218,218],leftMiddle:[236,236,236],rightMiddle:[255,128,63],bottomMiddle:[204,177,218]}let colorsAvg={topLeft:null,topRight:null,bottomLeft:null,bottomRight:null};let ww;let wh;f={...defaultOptions,...options};this.init=function(){colorsAvg.topLeft=this.average(f.leftMiddle,f.topMiddle);colorsAvg.topRight=this.average(f.topMiddle,f.rightMiddle);colorsAvg.bottomLeft=this.average(f.leftMiddle,f.bottomMiddle);colorsAvg.bottomRight=this.average(f.bottomMiddle,f.rightMiddle);this.getSizes();window.addEventListener('mousemove',this.mousemove,true);window.addEventListener('resize',this.getSizes,true);document.querySelector(f.target).classList.add("mousemoveBGColorsInitialized")}this.destroy=function(){window.removeEventListener('mousemove',_this.mousemove,true);window.removeEventListener('resize',_this.getSizes,true);document.querySelector(f.target).classList.remove("mousemoveBGColorsInitialized");const target=document.querySelector(f.target);target.style.backgroundColor=null;if(f.transition>0){target.style.transitionDuration=null}if(f.delay>0){target.style.transitionDelay=null}}this.getSizes=function(){const win=window;const doc=document;const docEl=doc.documentElement;const body0=doc.getElementsByTagName('body')[0];ww=win.innerWidth||docEl.clientWidth||body0.clientWidth;wh=win.innerHeight||docEl.clientHeight||body0.clientHeight}this.average=function(a,b){return[0.5*(a[0]+b[0]),0.5*(a[1]+b[1]),0.5*(a[1]+b[1])]}this.interpolate2D=function(a,b,c,d,x,y){return a*(1-x)*(1-y)+c*x*(1-y)+b*(1-x)*y+d*x*y}this.interpolateArray=function(a,b,c,d,x,y){let result=[0,0,0];for(let i=0;i<3;++i){result[i]=Math.floor(_this.interpolate2D(a[i],b[i],c[i],d[i],x,y))}return result}this.mousemove=function(e){let positionX=e.pageX/ww;let positionY=e.pageY/wh;let x00,x01,x11,x10;if(positionX>0.5&&positionY>0.5){x00=f.center;x01=f.bottomMiddle;x10=f.rightMiddle;x11=colorsAvg.bottomRight;positionX=2.0*(positionX-0.5);positionY=2.0*(positionY-0.5)}else if(positionX>0.5&&positionY<=0.5){x00=f.topMiddle;x01=f.center;x10=colorsAvg.topRight;x11=f.rightMiddle;positionX=2.0*(positionX-0.5);positionY=2.0*(positionY)}else if(positionX<=0.5&&positionY<=0.5){x00=colorsAvg.topLeft;x01=f.leftMiddle;x10=f.topMiddle;x11=f.center;positionX=2.0*(positionX);positionY=2.0*(positionY)}else if(positionX<=0.5&&positionY>0.5){x00=f.leftMiddle;x01=colorsAvg.bottomLeft;x10=f.center;x11=f.bottomMiddle;positionX=2.0*(positionX);positionY=2.0*(positionY-0.5)}else{}const rgb=_this.interpolateArray(x00,x01,x10,x11,positionX,positionY);const target=document.querySelector(f.target);target.style.backgroundColor='rgb('+rgb.join(',')+')';if(f.transition>0){target.style.transitionDuration=f.transition+'s'}if(f.delay>0){target.style.transitionDelay=f.delay+'s'}}this.init()}